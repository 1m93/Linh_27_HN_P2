(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,a){e.exports=a(116)},105:function(e,t,a){},106:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(24),l=a.n(r),o=(a(105),a(106),a(5)),i=a(11),s=a(133),u=a(3),m=function(){return{type:"FETCH_DISCOVER_PRODUCTS_BEGIN"}},d=function(e){return{type:"FETCH_DISCOVER_PRODUCTS_SUCCESS",newProducts:e[0],freeProduct:e[1],topSellerProducts:e[2],hotProduct:e[3],topRatedProducts:e[4]}},E=function(e){return{type:"FETCH_DISCOVER_PRODUCTS_FAILURE",error:e}},p=a(57),f=a.n(p),h=a(61),_=a.n(h),b=a(62),v=a.n(b),g=a(63),O=a.n(g);var N=function(){return c.a.createElement("footer",null,c.a.createElement("div",{className:"socials"},c.a.createElement("a",{href:"https://www.facebook.com/"},c.a.createElement(f.a,null)),c.a.createElement("a",{href:"https://twitter.com/"},c.a.createElement(_.a,null)),c.a.createElement("a",{href:"https://www.youtube.com/"},c.a.createElement(v.a,null))),c.a.createElement("button",{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}},c.a.createElement(O.a,null)))};var j=function(e){var t=Object(i.g)().pathname;return c.a.createElement(o.b,{to:e.to,className:t===e.to?"active":""},e.children)},C=a(64),y=a.n(C),S=function(e){var t=e.split(".")[1],a=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)},T=function(){return{type:"LOGIN_USER_BEGIN"}},w=function(e){return{type:"LOGIN_USER_SUCCESS",payload:e}},P=function(e){return{type:"LOGIN_USER_FAILURE",payload:e}},k=function(e){return{type:"GET_USER_INFO",payload:e}};var A=function(){var e=Object(u.c)((function(e){return e.auth.userinfo})),t=Object(u.b)(),a=function(){t((localStorage.removeItem("token"),window.location.href="/",{type:"LOG_OUT"}))};return c.a.createElement("nav",{className:"navbar"},c.a.createElement("div",{className:"navbar__left"},c.a.createElement(o.b,{to:"/"},c.a.createElement("img",{className:"navbar__left-logo",src:"https://i.pinimg.com/originals/2b/7f/d8/2b7fd8a7df064d2303ebe4a42740a5a5.png",alt:"error"})),c.a.createElement("div",{className:"navbar__left-links"},c.a.createElement(j,{to:"/",className:"navbar__left-Mylinks--active"},"Store"),c.a.createElement(j,{to:"/news"},"News"),c.a.createElement(j,{to:"/faq"},"Faq"),c.a.createElement(j,{to:"/help"},"Help"))),c.a.createElement("div",{className:"navbar__right"},e?c.a.createElement("div",{className:"navbar__right-wrapper"},e.isAdmin?c.a.createElement("div",{className:"navbar__right-admin"},c.a.createElement(o.b,{to:"/admin"},"Admin")):"",c.a.createElement("div",{to:"#",className:"navbar__right-profile"},c.a.createElement("div",{className:"navbar__right-profile-button"},c.a.createElement("img",{src:e.avatar,alt:"avatar"}),c.a.createElement(o.b,{to:"#"},"".concat(e.firstname," ").concat(e.lastname))),c.a.createElement("div",{className:"navbar__right-profile-list"},c.a.createElement(o.b,{to:"/profile"},"Account"),c.a.createElement(o.b,{to:"/cart"},"Cart ",c.a.createElement("span",null,"(",e.cart.length,")")),c.a.createElement(o.b,{to:"/order"},"Order"),c.a.createElement(o.b,{to:"#",onClick:function(){return a()}},"Sign out")))):c.a.createElement("div",{className:"navbar__right-signin"},c.a.createElement(o.b,{to:"/login"},c.a.createElement(y.a,null),c.a.createElement("p",null,"Sign in"))),c.a.createElement("div",{className:"navbar__right-download"},c.a.createElement("a",{href:"/"},"Get epic games"))))},R=a(66),I=a.n(R),F=a(65),U=a.n(F),L=function(e){return{type:"SET_SEARCH",payload:e}},D=function(){return{type:"FETCH_QUICK_SEARCH_BEGIN"}},H=function(e){return{type:"FETCH_QUICK_SEARCH_SUCCESS",payload:e}},G=function(e){return{type:"FETCH_QUICK_SEARCH_FAILURE",payload:e}};var B=function(e){var t=e.title,a=Object(u.c)((function(e){return e.navbar.search})),r=Object(u.c)((function(e){return e.navbar.quickSearchLoading})),l=Object(u.c)((function(e){return e.navbar.quickSearchError})),m=Object(u.c)((function(e){return e.navbar.quickSearchResult})),d=Object(u.b)(),E=Object(i.g)().pathname,p=Object(i.f)();return Object(n.useEffect)((function(){a&&d(function(e){return function(t){t(D());var a="http://localhost:3001/products?name_like=".concat(e,"&_limit=4");fetch(a).then((function(e){return e.json()})).then((function(e){t(H(e))})).catch((function(e){t(G(e.toString()))}))}}(a))}),[d,a]),c.a.createElement("div",{className:"menu container"},t?c.a.createElement("div",{className:"menu__left menu__left-title"},c.a.createElement(o.b,{to:"#",onClick:function(){p.goBack()}},c.a.createElement(U.a,null),"Go back"),c.a.createElement(o.b,{to:"#",className:"active"},t)):c.a.createElement("div",{className:"menu__left"},c.a.createElement(j,{to:"/"},"Discover"),c.a.createElement(j,{to:"/browse"},"Browse")),c.a.createElement("div",{className:"menu__right"},c.a.createElement("form",{onSubmit:function(e){p.push("/browse"),e.preventDefault()}},c.a.createElement("button",{type:"submit"},c.a.createElement(I.a,null)),c.a.createElement("input",{type:"text",placeholder:"Search",value:a,onChange:function(e){d(L(e.target.value))}})),a&&"/browse"!==E?c.a.createElement("div",{className:"menu__right-result"},l?c.a.createElement("div",{className:"error"},l):r?c.a.createElement(s.a,{className:"loadingbar"}):c.a.createElement("div",null,m.map((function(e,t){return c.a.createElement(o.b,{key:t,to:"/products/".concat(e.id),onClick:function(){return d(L(""))}},e.name)})),c.a.createElement(o.b,{to:"/browse"},"Search all games"))):""))};var x=function(e){return c.a.createElement("header",null,c.a.createElement(A,null),c.a.createElement(B,{title:e.title}),e.children)},M=a(4);a(113);var V=function(e){var t=Object(n.useState)(e.product.length>0?e.product[0]:""),a=Object(M.a)(t,1)[0];return c.a.createElement("div",{className:"productBanner"},c.a.createElement("div",{className:"productBanner__title title"},e.title),c.a.createElement("div",{className:"productBanner__detail",style:{background:"linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url(".concat(a.banner,") no-repeat center")}},c.a.createElement("div",{className:"productBanner__detail-content"},c.a.createElement("div",{className:"productBanner__detail-content-name"},a.name),c.a.createElement("div",{className:"productBanner__detail-content-des"},a.des),c.a.createElement(o.b,{to:"/products/".concat(a.id),className:"productBanner__detail-content-btn"},"Learn more"))))},z=(a(114),a(36)),J=a.n(z);var q=function(e){var t=Object(n.useState)(e.product),a=Object(M.a)(t,1)[0];return c.a.createElement(o.b,{to:"/products/".concat(a.id),className:"product"},c.a.createElement("div",{className:"product__head"},c.a.createElement("div",{className:"product__head-image",style:{background:"url(".concat(a.cover,") no-repeat center")}}),c.a.createElement("div",{className:"product__head-detail"},c.a.createElement("div",{className:"product__head-detail-name"},a.name),c.a.createElement("div",{className:"product__head-detail-publisher"},a.publisher))),c.a.createElement("div",{className:"product__foot"},c.a.createElement("div",{className:"product__foot-price"},0===a.price?"Free":"$"+a.price),a.rateCount?c.a.createElement("div",{className:"product__foot-rating"},c.a.createElement(J.a,null),a.rating.toFixed(1)):""))};var K=function(e){var t=Object(n.useState)(e.products),a=Object(M.a)(t,1)[0];return c.a.createElement("div",{className:"listProducts"},e.title?c.a.createElement("div",{className:"listProducts__title title"},e.title):"",c.a.createElement("div",{className:"listProducts__list"},a.map((function(e,t){return c.a.createElement("div",{className:"listProducts__list-item",key:t},c.a.createElement(q,{product:e}))}))))},$=a(68),Y=a.n($),Q=a(69),X=a.n(Q),W=a(71),Z=a.n(W),ee=a(70),te=a.n(ee);var ae=function(){var e=Object(u.c)((function(e){return e.discoverProducts.newProducts})),t=Object(n.useState)(0),a=Object(M.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){var e=setInterval((function(){i()}),5e3);return function(){return clearInterval(e)}}));var i=function(){r===e.length-1?l(0):l(r+1)};return 0===e.length?c.a.createElement("div",null):c.a.createElement("div",{className:"slider"},c.a.createElement(o.b,{to:"/products/".concat(e[r].id),className:"slide"},c.a.createElement("div",{className:"slide__image",style:{background:"url(".concat(e[r].banner,") no-repeat center")}}),c.a.createElement("div",{className:"slide__content"},c.a.createElement("div",null,c.a.createElement("div",{className:"slide__content-control"},c.a.createElement("div",{className:"slide__content-control-left"},c.a.createElement("span",{onClick:function(t){t.preventDefault(),l(0===r?e.length-1:r-1)}},c.a.createElement(Y.a,null)),c.a.createElement("span",{onClick:function(e){e.preventDefault(),i()}},c.a.createElement(X.a,null))),c.a.createElement("div",{className:"slide__content-control-right"},e.map((function(e,t){return c.a.createElement("span",{key:t,className:t===r?"active":"",onClick:function(e){e.preventDefault(),function(e){l(e)}(t)}},c.a.createElement(te.a,null))})))),c.a.createElement("div",{className:"slide__content-description"},c.a.createElement("p",null,"AVAILABLE NOW"),c.a.createElement("p",null,e[r].name),c.a.createElement("p",null,e[r].des))),c.a.createElement("div",{className:"slide__content-btn"},"Learn more ",c.a.createElement(Z.a,null)))))};var ne=function(){var e=Object(u.c)((function(e){return e.discoverProducts.loading})),t=Object(u.c)((function(e){return e.discoverProducts.error})),a=Object(u.c)((function(e){return e.discoverProducts.newProducts})),r=Object(u.c)((function(e){return e.discoverProducts.freeProduct})),l=Object(u.c)((function(e){return e.discoverProducts.topSellerProducts})),i=Object(u.c)((function(e){return e.discoverProducts.hotProduct})),p=Object(u.c)((function(e){return e.discoverProducts.topRatedProducts})),f=Object(u.b)();return Object(n.useEffect)((function(){f((function(e){e(m()),Promise.all([fetch("http://localhost:3001/products?_limit=5&_sort=id&_order=desc").then((function(e){return e.json()})),fetch("http://localhost:3001/products?_limit=1&price=0&_sort=id&_order=desc").then((function(e){return e.json()})),fetch("http://localhost:3001/products?_limit=5&_sort=sold,id&_order=desc,desc").then((function(e){return e.json()})),fetch("http://localhost:3001/products?_limit=1&_sort=rating,id&_order=desc,desc").then((function(e){return e.json()})),fetch("http://localhost:3001/products?_limit=5&_sort=rating,id&_order=desc,desc").then((function(e){return e.json()}))]).then((function(t){e(d(t))})).catch((function(t){e(E(t.toString()))}))}))}),[f]),t?c.a.createElement("div",{className:"error"},t):e?c.a.createElement(s.a,{className:"loadingbar"}):c.a.createElement("div",{className:"HomePage"},c.a.createElement(x,null),c.a.createElement("main",{className:"container"},c.a.createElement(ae,null),c.a.createElement(K,{products:a,title:"New Releases"}),c.a.createElement(V,{product:r,title:"Free To Play"}),c.a.createElement(K,{products:l,title:"Top Sellers"}),c.a.createElement(V,{product:i,title:"Recommend"}),c.a.createElement(K,{products:p,title:"Top Rated"}),c.a.createElement("div",{className:"browse"},c.a.createElement(o.b,{to:"/browse"},"Browse all games"))),c.a.createElement(N,null))},ce=function(e,t,a,n,c,r){return function(l){l(re());var o=r.split(" "),i="http://localhost:3001/products?_page=".concat(n,"&_limit=12&_sort=").concat(o[0],"&_order=").concat(o[1]);if(e.length>0)for(var s=0;s<e.length;s++)i+="&category_like=".concat(e[s]);if(t.length>0)for(var u=0;u<t.length;u++)i+="&features_like=".concat(t[u]);if(a.length>0)for(var m=0;m<a.length;m++)i+="&platform_like=".concat(a[m]);c&&(i+="&q=".concat(c));var d=i.replace("_page=".concat(n,"&_limit=12"),"");Promise.all([fetch(i).then((function(e){return e.json()})),fetch(d).then((function(e){return e.json()}))]).then((function(e){l(le(e[0])),l(ie(Math.ceil(e[1].length/12)))})).catch((function(e){l(oe(e.toString()))}))}},re=function(){return{type:"FETCH_PRODUCTS_BEGIN"}},le=function(e){return{type:"FETCH_PRODUCTS_SUCCESS",payload:e}},oe=function(e){return{type:"FETCH_PRODUCTS_FAILURE",payload:e}},ie=function(e){return{type:"SET_NUM_OF_PAGES",payload:e}},se=function(e){return{type:"SET_PAGE",payload:e}},ue=function(){return function(e){e(me());Promise.all([fetch("http://localhost:3001/category?_sort=name&_order=asc").then((function(e){return e.json()})),fetch("http://localhost:3001/features?_sort=name&_order=asc").then((function(e){return e.json()})),fetch("http://localhost:3001/platform?_sort=name&_order=asc").then((function(e){return e.json()}))]).then((function(t){e(de(t))})).catch((function(t){e(Ee(t.toString()))}))}},me=function(){return{type:"FETCH_SIDEBAR_BEGIN"}},de=function(e){return{type:"FETCH_SIDEBAR_SUCCESS",categories:e[0],features:e[1],platforms:e[2]}},Ee=function(e){return{type:"FETCH_SIDEBAR_FAILURE",error:e}},pe=function(e){return{type:"SET_CATE",payload:e}},fe=function(e){return{type:"SET_FEAT",payload:e}},he=function(e){return{type:"SET_PLAT",payload:e}},_e=a(72),be=a.n(_e),ve=a(73),ge=a.n(ve);var Oe=function(e){var t=Object(u.c)((function(e){return e.sidebar.cate})),a=Object(u.c)((function(e){return e.sidebar.feat})),r=Object(u.c)((function(e){return e.sidebar.plat})),l=Object(u.c)((function(t){return"Categories"===e.title?t.sidebar.cate:"Features"===e.title?t.sidebar.feat:t.sidebar.plat})),o=Object(n.useState)(!0),i=Object(M.a)(o,2),s=i[0],m=i[1],d=Object(u.b)();return c.a.createElement("div",{className:"sidebar__list"},c.a.createElement("div",{className:"sidebar__list-title",onClick:function(){m(!s)}},c.a.createElement("p",null,e.title),c.a.createElement(be.a,{className:s?"rolate down":"rolate up"})),s?e.items.map((function(n,o){return c.a.createElement("div",{className:"sidebar__list-item",key:o,onClick:function(){return function(e,t,a){t.includes(e,0)?d(a(t.filter((function(t){return t!==e})))):d(a(t.concat(e))),d(se(1)),window.scrollTo({top:0,behavior:"smooth"})}(n.name,"Categories"===e.title?t:"Features"===e.title?a:r,"Categories"===e.title?pe:"Features"===e.title?fe:he)}},c.a.createElement("span",{className:l.includes(n.name,0)?"active":""},n.name),l.includes(n.name,0)?c.a.createElement(ge.a,null):"")})):"")};var Ne=function(){var e=Object(u.c)((function(e){return e.sidebar.loading})),t=Object(u.c)((function(e){return e.sidebar.error})),a=Object(u.c)((function(e){return e.sidebar.categories})),r=Object(u.c)((function(e){return e.sidebar.features})),l=Object(u.c)((function(e){return e.sidebar.platforms})),o=Object(u.b)();return Object(n.useEffect)((function(){o(ue())}),[o]),t?c.a.createElement("div",{className:"error"},t):e?c.a.createElement(s.a,{className:"loadingbar"}):c.a.createElement("div",{className:"sidebar"},c.a.createElement(Oe,{items:a,title:"Categories"}),c.a.createElement(Oe,{items:r,title:"Features"}),c.a.createElement(Oe,{items:l,title:"Platforms"}))},je=a(42),Ce=a.n(je),ye=a(139);var Se=function(){var e=Object(u.c)((function(e){return e.browseProducts.loading})),t=Object(u.c)((function(e){return e.browseProducts.error})),a=Object(u.c)((function(e){return e.browseProducts.products})),r=Object(u.c)((function(e){return e.sidebar.cate})),l=Object(u.c)((function(e){return e.sidebar.feat})),o=Object(u.c)((function(e){return e.sidebar.plat})),i=Object(u.c)((function(e){return e.browseProducts.page})),m=Object(u.c)((function(e){return e.navbar.search})),d=Object(u.c)((function(e){return e.browseProducts.sort})),E=Object(u.c)((function(e){return e.browseProducts.numOfPages})),p=Object(u.b)();return Object(n.useEffect)((function(){p(ce(r,l,o,i,m,d))}),[p,r,l,o,i,m,d]),c.a.createElement("div",{className:"BrowsePage"},c.a.createElement(x,null),c.a.createElement("main",{className:"container"},c.a.createElement("div",{className:"products"},c.a.createElement("div",{className:"products__head"},c.a.createElement("label",null,"Sort by:"),c.a.createElement("select",{value:d,onChange:function(e){p(function(e){return{type:"SET_SORT",payload:e}}(e.target.value)),p(se(1))}},c.a.createElement("option",{value:"id desc"},"Newest"),c.a.createElement("option",{value:"id asc"},"Oldest"),c.a.createElement("option",{value:"name asc"},"A - Z"),c.a.createElement("option",{value:"name desc"},"Z - A"),c.a.createElement("option",{value:"price asc"},"Price Asc"),c.a.createElement("option",{value:"price desc"},"Price Desc"),c.a.createElement("option",{value:"rating desc"},"Rating"))),t?c.a.createElement("div",{className:"error"},t):e?c.a.createElement(s.a,{className:"loadingbar"}):0===a.length?c.a.createElement("div",{className:"noResult"},c.a.createElement(Ce.a,null),c.a.createElement("p",null,"No results found"),c.a.createElement("span",null,"Unfortunately I could not find any results matching your search.")):c.a.createElement("div",{className:"products__foot"},c.a.createElement(K,{products:a}),c.a.createElement(ye.a,{className:"pagination",count:parseInt(E),color:"primary",defaultPage:i,shape:"rounded",onChange:function(e,t){return function(e){p(se(e)),window.scrollTo({top:0,behavior:"smooth"})}(t)}}))),c.a.createElement("div",{className:"nav"},c.a.createElement("div",{className:"nav__head"},c.a.createElement("div",null,"Filter"),r.length>0||l.length>0||o.length>0?c.a.createElement("div",{className:"nav__head-reset",onClick:function(){return p({type:"RESET_FILTER"})}},"Reset"):""),c.a.createElement(Ne,null))),c.a.createElement(N,null))};function Te(){var e=Object(i.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var we=a(18),Pe=a(1),ke=a(94),Ae=function(){return{type:"FETCH_PRODUCT_DETAIL_BEGIN"}},Re=function(e){return{type:"FETCH_PRODUCT_DETAIL_SUCCESS",payload:e}},Ie=function(e){return{type:"FETCH_PRODUCT_DETAIL_FAILURE",payload:e}},Fe=function(){return{type:"FETCH_RELATED_PRODUCTS_BEGIN"}},Ue=function(e){return{type:"FETCH_RELATED_PRODUCTS_SUCCESS",payload:e}},Le=function(e){return{type:"FETCH_RELATED_PRODUCTS_FAILURE",payload:e}},De=a(141),He=a(77),Ge=a.n(He),Be=a(134);var xe=function(e){var t=window.location.href;return c.a.createElement("span",{className:"shareButton",onClick:function(){return function(e){var t="https://www.facebook.com/sharer/sharer.php?u="+e;window.open(t,"_blank","width=600, height=500")}(t)}},c.a.createElement(Be.a,{size:e.size}))},Me=a(135);var Ve=function(e){var t=window.location.href;return c.a.createElement("span",{className:"shareButton",onClick:function(){return function(e){var t="http://twitter.com/share?url="+e;window.open(t,"_blank","width=600, height=500")}(t)}},c.a.createElement(Me.a,{size:e.size}))},ze=a(136);var Je=function(e){var t=window.location.href;return c.a.createElement("span",{className:"shareButton",onClick:function(){return function(e){var t="https://www.reddit.com/submit?url="+e;window.open(t,"_blank","width=600, height=500")}(t)}},c.a.createElement(ze.a,{size:e.size}))};var qe=function(e){return c.a.createElement("div",{className:"spec"},c.a.createElement("div",{className:"spec__title"},e.title),c.a.createElement("div",{className:"spec__list"},c.a.createElement("div",{className:"spec__list-item"},c.a.createElement("p",null,"Processor"),c.a.createElement("span",null,e.processor)),c.a.createElement("div",{className:"spec__list-item"},c.a.createElement("p",null,"Memory"),c.a.createElement("span",null,e.memory," GB")),c.a.createElement("div",{className:"spec__list-item"},c.a.createElement("p",null,"Storage"),c.a.createElement("span",null,e.storage," GB available space")),c.a.createElement("div",{className:"spec__list-item"},c.a.createElement("p",null,"Graphics"),c.a.createElement("span",null,e.graphics))))};var Ke=function(){var e=window.location.href;return Object(n.useEffect)((function(){window.FB&&window.FB.XFBML.parse(),window.fbAsyncInit=function(){window.FB.init({appId:"256526935601425",cookie:!0,xfbml:!0,version:"v8.0"}),window.FB.AppEvents.logPageView()},function(e,t,a){var n,c=e.getElementsByTagName(t)[0];e.getElementById(a)||((n=e.createElement(t)).id=a,n.src="https://connect.facebook.net/en_US/sdk.js",c.parentNode.insertBefore(n,c))}(document,"script","facebook-jssdk")})),c.a.createElement("div",{className:"fb-comments","data-colorscheme":"dark","data-href":e,"data-numposts":"5","data-width":"100%","data-lazy":!0,"data-order-by":"reverse_time"})};var $e=function(){var e=Object(u.c)((function(e){return e.productDetail.relatedProductsLoading})),t=Object(u.c)((function(e){return e.productDetail.relatedProductsError})),a=Object(u.c)((function(e){return e.productDetail.relatedProducts})),r=Object(u.c)((function(e){return e.productDetail.product})),l=Object(u.b)();return Object(n.useEffect)((function(){var e,t;r.id&&r.category&&l((e=r.id,t=r.category,function(a){a(Fe());for(var n="http://localhost:3001/products?_limit=4&_sort=id&_order=desc&id_ne=".concat(e),c=t.split(", "),r=0;r<c.length;r++)n+="&category_like=".concat(c[r]);fetch(n).then((function(e){return e.json()})).then((function(e){a(Ue(e))})).catch((function(e){a(Le(e.toString()))}))}))}),[l,r.category,r.id]),t?c.a.createElement("div",{className:"error"},t):e?c.a.createElement(s.a,{className:"loadingbar"}):c.a.createElement("div",{className:"ProductRelated"},c.a.createElement(K,{products:a}))},Ye=a(76),Qe=a.n(Ye),Xe=a(137),We=function(e,t,a,n){return function(c){c(at());var r="http://localhost:3001/users/".concat(e);fetch(r,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:t})}).then((function(e){return e.json()})).then((function(e){c(nt(e)),c(k(e)),a&&alert(a),n&&n()})).catch((function(e){c(ct(e.toString())),alert(e.toString())}))}},Ze=function(){return{type:"FETCH_CART_BEGIN"}},et=function(e){return{type:"FETCH_CART_SUCCESS",payload:e}},tt=function(e){return{type:"FETCH_CART_FAILURE",payload:e}},at=function(){return{type:"CHANGE_CART_BEGIN"}},nt=function(e){return{type:"CHANGE_CART_SUCCESS",payload:e}},ct=function(e){return{type:"CHANGE_CART_FAILURE",payload:e}};var rt=function(e){var t=Object(n.useState)(""),a=Object(M.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(!1),i=Object(M.a)(o,2),m=i[0],d=i[1],E=Object(n.useState)(null),p=Object(M.a)(E,2),f=p[0],h=p[1],_=Object(u.c)((function(e){return e.auth.userinfo.viewedProducts}));return Object(n.useEffect)((function(){d(!0);for(var t="http://localhost:3001/products/?_limit=5",a=0;a<5&&a<_.length;a++)t+="&id=".concat(_[a]);e.productId&&(t+="&id_ne=".concat(e.productId)),fetch(t).then((function(e){return e.json()})).then((function(e){l(e),d(!1),h(null)})).catch((function(e){d(!1),l(""),h(e.toString()+" recently viewed")}))}),[_,e.productId]),f?c.a.createElement("div",{className:"error"},f):m?c.a.createElement(s.a,{className:"loadingbar"}):c.a.createElement("div",{className:"RecentlyViewed"},r.length>0?c.a.createElement(K,{products:r}):"No recently Viewed Products")};var lt=function(){var e=Object(i.f)(),t=Object(i.h)().productId,a=Object(u.c)((function(e){return e.productDetail.loading})),r=Object(u.c)((function(e){return e.productDetail.error})),l=Object(u.c)((function(e){return e.productDetail.product})),m=Object(u.c)((function(e){return e.auth.userinfo})),d=Object(u.c)((function(e){return e.cart.changeLoading})),E=Object(u.b)();Object(n.useEffect)((function(){E(function(e,t){return function(a){a(Ae());var n="http://localhost:3001/products/".concat(e);if(t){var c="http://localhost:3001/users/".concat(t.id),r=Object(ke.a)(t.viewedProducts);r.includes(e)&&(r=r.filter((function(t){return t!==e}))),r.unshift(e),Promise.all([fetch(n).then((function(e){return e.json()})),fetch(c,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({viewedProducts:r})}).then((function(e){return e.json()}))]).then((function(e){a(Re(e[0])),a(k(Object(Pe.a)(Object(Pe.a)({},t),{},{viewedProducts:r})))})).catch((function(e){a(Ie(e.toString()))}))}else fetch(n).then((function(e){return e.json()})).then((function(e){a(Re(e))})).catch((function(e){a(Ie(e.toString()))}))}}(t,m))}),[E,t]);var p=function(e,t){return c.a.createElement("div",{className:"otherinfo"},c.a.createElement("p",null,e),c.a.createElement("span",null,t))},f=function(a){m?E(function(e,t,a,n){return function(c){var r=a.rateCount,l=a.rating*a.rateCount+n;t.ratedProducts&&(Object.keys(t.ratedProducts).includes(e)?l-=t.ratedProducts[e]:r++);var o=Object(Pe.a)(Object(Pe.a)({},t.ratedProducts),{},Object(we.a)({},e,n)),i=l/r,s="http://localhost:3001/products/".concat(e),u="http://localhost:3001/users/".concat(t.id);Promise.all([fetch(s,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:i,rateCount:r})}),fetch(u,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ratedProducts:o})})]).then((function(){c(Re(Object(Pe.a)(Object(Pe.a)({},a),{},{rating:i,rateCount:r}))),c(k(Object(Pe.a)(Object(Pe.a)({},t),{},{ratedProducts:o})))})).catch((function(e){alert(e.toString()+", please try again later")}))}}(t,m,l,a)):window.confirm("Please sign in to rate this game")&&e.push("/login")};return r?c.a.createElement("div",{className:"error"},r):a?c.a.createElement(s.a,{className:"loadingbar"}):c.a.createElement("div",{className:"ProductDetail"},c.a.createElement(x,{title:l.name}),c.a.createElement("main",null,c.a.createElement("div",{className:"banner",style:{background:"linear-gradient(360deg, rgba(18,18,18,1) 10%, rgba(18,18,18,0) 100%), \n\t\t\t\t\t\t\turl(".concat(l.banner,") no-repeat top")}}),c.a.createElement("div",{className:"detail container"},c.a.createElement("div",{className:"detail__info"},c.a.createElement("div",{className:"detail__info-image"},c.a.createElement("div",{style:{background:"url(".concat(l.cover,") no-repeat center")}})),c.a.createElement("div",{className:"detail__info-content"},c.a.createElement("div",{className:"content"},c.a.createElement("p",{className:"content__name"},l.name),c.a.createElement("p",{className:"content__publisher"},l.publisher),c.a.createElement("div",{className:"content__others"},p("Platform",l.platform),p("Category",l.category),p("Features",l.features))),c.a.createElement("div",{className:"shopping"},c.a.createElement("div",{className:"shopping__info"},l.rateCount?c.a.createElement("div",{className:"shopping__info-rating"},c.a.createElement(J.a,null),l.rating?l.rating.toFixed(1):""):"No ratings yet",c.a.createElement("div",{className:"shopping__info-price"},l.price?"$"+l.price:"Free")),c.a.createElement("div",{className:"shopping__share"},c.a.createElement("div",null,"Share: "),c.a.createElement("div",{className:"shopping__share-buttons"},c.a.createElement(Je,{size:30}),c.a.createElement(Ve,{size:30}),c.a.createElement(xe,{size:30}))),c.a.createElement("div",{className:"shopping__buttons"},c.a.createElement(o.b,{className:"buy",to:"#",onClick:function(a){a.preventDefault(),function(){if(m){if(!d){var a=m.cart?m.cart:[];a.includes(t)||(a=a.concat(t));E(We(m.id,a,"",(function(){e.push("/cart",{id:t,price:l.price})})))}}else e.push("/login")}()}},d?c.a.createElement(Xe.a,{className:"loadingCircle",size:24}):"Buy now"),c.a.createElement(o.b,{className:"addToCart",to:"#",onClick:function(e){e.preventDefault(),function(){if(m){if(!d){var e,a=m.cart?m.cart:[];a.includes(t)?(a=a.filter((function(e){return e!==t})),e="Removed ".concat(l.name," from your cart")):(a=a.concat(t),e="Added ".concat(l.name," to your cart")),E(We(m.id,a,e))}}else window.location.href="/login"}()}},d?c.a.createElement(Xe.a,{className:"loadingCircle",size:24}):m.cart&&m.cart.includes(t)?c.a.createElement(Qe.a,null):c.a.createElement(Ge.a,null)))))),c.a.createElement("div",{className:"detail__about"},c.a.createElement("div",null,"About Game"),c.a.createElement("div",{className:"detail__about-content"},l.des)),c.a.createElement("div",{className:"detail__video"},c.a.createElement("div",null,"Video"),c.a.createElement("div",{className:"detail__video-frame"},c.a.createElement("iframe",{title:l.name,frameBorder:"0",src:"https://www.youtube.com/embed/".concat(l.videoId,"?autoplay=1&mute=1&loop=1&playlist=").concat(l.videoId),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:"1"}))),c.a.createElement("div",{className:"detail__spec"},c.a.createElement("div",null,"Specifications"),c.a.createElement("div",{className:"detail__spec-list"},l.spec?["Minium","Recommend"].map((function(e,t){return c.a.createElement(qe,{title:e,key:t,processor:l.spec[t].processor,memory:l.spec[t].memory,storage:l.spec[t].storage,graphics:l.spec[t].graphics})})):c.a.createElement(s.a,{className:"loadingbar"}))),c.a.createElement("div",{className:"detail__rating"},c.a.createElement("div",null,"Rating"),c.a.createElement("div",{className:"detail__rating-control"},l.rateCount?c.a.createElement("div",{className:"detail__rating-control-info"},c.a.createElement(J.a,null),l.rating?l.rating.toFixed(1):""," ","(",l.rateCount," users)"):"No ratings yet",c.a.createElement("div",{className:"detail__rating-control-rate"},c.a.createElement("p",null,"Rate this game:"),c.a.createElement(De.a,{name:"rating",value:m?m.ratedProducts[t]:0,size:"medium",onChange:function(e){f(parseInt(e.target.value))}})))),c.a.createElement("div",{className:"detail__comment"},c.a.createElement("div",null,"Comments"),c.a.createElement("div",{className:"detail__comment-list"},c.a.createElement(Ke,null))),c.a.createElement("div",{className:"detail__related"},c.a.createElement("div",null,"Related Games"),c.a.createElement("div",{className:"detail__related-list"},c.a.createElement($e,null))),m&&m.viewedProducts.length>0&&t?c.a.createElement("div",{className:"detail__recently"},c.a.createElement("div",null,"Recently Viewed"),c.a.createElement("div",{className:"detail__recently-list"},c.a.createElement(rt,{productId:t}))):"")),c.a.createElement(N,null))},ot=a(138),it=a(78),st=a.n(it),ut=a(79),mt=a.n(ut);a(115);var dt=function(e){var t=Object(n.useState)(!1),a=Object(M.a)(t,2),r=a[0],l=a[1];return"password"===e.type?c.a.createElement("div",{className:"FormTextInput"},c.a.createElement("div",{className:"FormTextInput__input"},c.a.createElement("input",{type:r?"text":"password",placeholder:e.placeholder,name:e.name,value:e.value,onChange:function(t){e.handleChange(t),e.handleAlert&&e.handleAlert(t)}}),c.a.createElement("div",null,e.alert?c.a.createElement("small",{className:"FormTextInput__alert"},e.alert):"",c.a.createElement("span",{onClick:function(){l(!r)}},r?c.a.createElement(st.a,null):c.a.createElement(mt.a,null))))):c.a.createElement("div",{className:"FormTextInput"},c.a.createElement("div",{className:"FormTextInput__input"},c.a.createElement("input",{type:e.type,placeholder:e.placeholder,name:e.name,value:e.value,onChange:function(t){e.handleChange(t),e.handleAlert&&e.handleAlert(t)}}),c.a.createElement("div",null,e.alert?c.a.createElement("small",{className:"FormTextInput__alert"},e.alert):"")))};var Et=function(){var e=Object(i.f)(),t=Object(n.useState)({email:"",password:""}),a=Object(M.a)(t,2),r=a[0],l=a[1],s=Object(u.c)((function(e){return e.auth.loading})),m=Object(u.c)((function(e){return e.auth.error})),d=Object(u.b)(),E=function(e){l(Object(Pe.a)(Object(Pe.a)({},r),{},Object(we.a)({},e.target.name,e.target.value)))},p=function(){d(function(e){return function(t){t(T()),fetch("http://localhost:3001/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.accessToken?(localStorage.setItem("token",e.accessToken),t(w(e.accessToken)),window.location.href="/"):(t(w("")),alert(e))})).catch((function(e){t(P(e.toString()))}))}}(r))};return c.a.createElement("div",{className:"Login"},c.a.createElement("form",{className:"form"},c.a.createElement("div",{className:"form__logo"},c.a.createElement("img",{src:"https://i.pinimg.com/originals/2b/7f/d8/2b7fd8a7df064d2303ebe4a42740a5a5.png",alt:"logo"})),c.a.createElement("p",{className:"form__title"},"Sign in with an epic games account"),c.a.createElement(dt,{type:"email",placeholder:"Email",name:"email",value:r.email,handleChange:E}),c.a.createElement(dt,{type:"password",placeholder:"Password",name:"password",value:r.password,handleChange:E}),c.a.createElement("div",{className:"form__option"},c.a.createElement("div",{className:"form__option-remember"},c.a.createElement(ot.a,{color:"default"}),c.a.createElement("label",null,"Remember me")),c.a.createElement("div",{className:"form__option-forgot"},c.a.createElement(o.b,{to:"/forgotpassword"},"Forgot Your Password?"))),s?c.a.createElement(o.b,{to:"#",className:"form__button"},c.a.createElement(Xe.a,{className:"loadingCircle",size:12})):r.email&&r.password?c.a.createElement(o.b,{to:"#",className:"form__button form__button--active",onClick:function(e){e.preventDefault(),p()}},m?"Retry":"Log in now"):c.a.createElement(o.b,{to:"#",className:"form__button"},"Log in now"),c.a.createElement("div",{className:"form__signup"},c.a.createElement("span",null,"Don't have an Epic Games account?"),c.a.createElement(o.b,{to:"/signup"},"Sign up")),c.a.createElement("div",{className:"form__goback"},c.a.createElement(o.b,{to:"#",onClick:function(){e.goBack()}},"Go back"))))},pt=function(e){return/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/g.test(e)},ft=function(e,t){return e===t};var ht=function(){var e=Object(i.f)(),t=Object(n.useState)({email:"",firstname:"",lastname:"",phone:"",password:"",avatar:"http://localhost:3001/avatar/default.png",country:"",city:"",address:"",cart:[],ratedProducts:{},viewedProducts:[],isAdmin:!1}),a=Object(M.a)(t,2),r=a[0],l=a[1],s=Object(u.b)(),m=Object(n.useState)(""),d=Object(M.a)(m,2),E=d[0],p=d[1],f=Object(n.useState)(""),h=Object(M.a)(f,2),_=h[0],b=h[1],v=Object(n.useState)(""),g=Object(M.a)(v,2),O=g[0],N=g[1],j=Object(n.useState)(""),C=Object(M.a)(j,2),y=C[0],S=C[1],k=Object(n.useState)(!1),A=Object(M.a)(k,2),R=A[0],I=A[1],F=Object(n.useState)(!1),U=Object(M.a)(F,2),L=U[0],D=U[1],H=Object(u.c)((function(e){return e.auth.loading})),G=Object(u.c)((function(e){return e.auth.error})),B=function(e){"repassword"===e.target.name?p(e.target.value):l(Object(Pe.a)(Object(Pe.a)({},r),{},Object(we.a)({},e.target.name,e.target.value)))},x=function(e){var t=e.target.name,a=e.target.value;switch(t){case"email":!pt(a)&&a?b("INVALID EMAIL"):b("");break;case"password":a?(/^(?=[\w]).{6,}$/gm.test(a)?(N(""),S("")):N("INVALID FORMAT"),E&&!ft(a,E)?S("NOT MATCH"):S("")):(N(""),S(""));break;case"repassword":!ft(r.password,a)&&a&&r.password?S("NOT MATCH"):S("");break;default:return}},V=function(){L&&s(function(e){return function(t){t(T()),fetch("http://localhost:3001/users",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.accessToken?(localStorage.setItem("token",e.accessToken),t(w(e.accessToken)),window.location.href="/"):(t(w("")),alert(e))})).catch((function(e){t(P(e.toString()))}))}}(r))};return Object(n.useEffect)((function(){D(function(e){for(var t=["email","password","firstname","lastname","phone"],a=0;a<t.length;a++)if(!e[t[a]])return!1;return!0}(r)&&!_&&!O&&!y&&R&&E)}),[r,_,O,y,R,E]),c.a.createElement("div",{className:"Signup"},c.a.createElement("form",{className:"form"},c.a.createElement("div",{className:"form__logo"},c.a.createElement("img",{src:"https://i.pinimg.com/originals/2b/7f/d8/2b7fd8a7df064d2303ebe4a42740a5a5.png",alt:"logo"})),c.a.createElement("p",{className:"form__title"},"Sign up"),c.a.createElement(dt,{type:"email",placeholder:"*Email",name:"email",value:r.email,handleChange:B,alert:_,handleAlert:x}),c.a.createElement("div",{className:"form__name"},c.a.createElement(dt,{type:"text",placeholder:"*First Name",name:"firstname",value:r.firstname,handleChange:B,handleAlert:x}),c.a.createElement(dt,{type:"text",placeholder:"*Last Name",name:"lastname",value:r.lastname,handleChange:B,handleAlert:x})),c.a.createElement(dt,{type:"number",placeholder:"*Phone Number",name:"phone",value:r.phone,handleChange:B,handleAlert:x}),c.a.createElement(dt,{type:"password",placeholder:"*Password",name:"password",value:r.password,handleChange:B,alert:O,handleAlert:x}),c.a.createElement(dt,{type:"password",placeholder:"*Retype Password",name:"repassword",value:E,handleChange:B,alert:y,handleAlert:x}),c.a.createElement("div",{className:"form__policy"},c.a.createElement(ot.a,{color:"default",checked:R,onChange:function(){return I(!R)}}),c.a.createElement("label",null,"I have read and agree to the",c.a.createElement(o.b,{to:"/faq"},"term of service"))),H?c.a.createElement(o.b,{to:"#",className:"form__button"},c.a.createElement(Xe.a,{className:"loadingCircle",size:12})):c.a.createElement(o.b,{to:"#",className:L?"form__button form__button--active":"form__button",onClick:function(e){e.preventDefault(),V()}},G?"Retry":"Sign up now"),c.a.createElement("div",{className:"form__signup"},c.a.createElement("span",null,"Have an Epic Games account?"),c.a.createElement(o.b,{to:"/login"},"Sign in")),c.a.createElement("div",{className:"form__goback"},c.a.createElement(o.b,{to:"#",onClick:function(){e.goBack()}},"Go back"))))},_t=a(80),bt=a.n(_t),vt=a(81),gt=a.n(vt),Ot=a(31),Nt=a.n(Ot),jt=a(82),Ct=a.n(jt),yt=a(43),St=a.n(yt),Tt=function(){return{type:"CHECKOUT_BEGIN"}},wt=function(){return{type:"CHECKOUT_SUCCESS"}},Pt=function(e){return{type:"CHECKOUT_FAILURE",payload:e}},kt=function(){return{type:"FETCH_ORDERS_BEGIN"}},At=function(e){return{type:"FETCH_ORDERS_SUCCESS",payload:e}},Rt=function(e){return{type:"FETCH_ORDERS_FAILURE",payload:e}};var It=function(e){var t=Object(n.useState)(""),a=Object(M.a)(t,2),r=a[0],l=a[1],o=Object(u.c)((function(e){return e.order.checkoutLoading})),i=Object(u.c)((function(e){return e.cart.changeLoading})),s=Object(u.b)(),m=function(){!r||o||i||s(function(e,t,a,n,c){return function(r){r(Tt());var l=c.filter((function(t){return!e.includes(t)}));Promise.all([fetch("http://localhost:3001/orders",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({products:e,paid:t,method:a,date:(new Date).toLocaleDateString(),time:(new Date).toLocaleTimeString(),userId:n})}),fetch("http://localhost:3001/users/".concat(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:l})})]).then((function(){r(wt()),window.location.href="/thanks"})).catch((function(e){r(Pt(e.toString())),alert(e.toString())}))}}(e.products,e.total,r,e.userId,e.cart))};return c.a.createElement("div",{className:"Checkout"},c.a.createElement("div",{className:"modal"},c.a.createElement("div",null,c.a.createElement("div",{className:"modal__head"},c.a.createElement("div",{className:"modal__head-left"},"Payment method"),c.a.createElement(St.a,{className:"modal__head-right",onClick:function(){e.close()}})),c.a.createElement("div",{className:"modal__body"},c.a.createElement("div",{className:"credit"===r?"modal__body-item modal__body-item--active":"modal__body-item",onClick:function(){return l("credit"===r?"":"credit")}},c.a.createElement(ot.a,{className:"modal__body-item-checkbox",checked:"credit"===r}),c.a.createElement("img",{src:"http://localhost:3001/creditcard.png",className:"modal__body-item-logo",alt:"logo"}),c.a.createElement("p",{className:"modal__body-item-title"},"Credit Card")),c.a.createElement("div",{className:"paypal"===r?"modal__body-item modal__body-item--active":"modal__body-item",onClick:function(){return l("paypal"===r?"":"paypal")}},c.a.createElement(ot.a,{className:"modal__body-item-checkbox",checked:"paypal"===r}),c.a.createElement("img",{src:"http://localhost:3001/paypal.png",className:"modal__body-item-logo",alt:"logo"}),c.a.createElement("p",{className:"modal__body-item-title"},"Paypal")))),c.a.createElement("div",{className:"modal__foot"},c.a.createElement("div",{className:"modal__foot-left"},"Total: $",Math.abs(e.total.toFixed(2))),c.a.createElement("div",{className:"modal__foot-right"},c.a.createElement("button",{className:"modal__foot-right-cancel",onClick:function(){return e.close()}},"Cancel"),c.a.createElement("button",{className:r?"modal__foot-right-checkout modal__foot-right-checkout--active":"modal__foot-right-checkout",onClick:function(){return m()}},i||o?c.a.createElement(Xe.a,{className:"loadingCircle",size:15}):"Checkout")))))};var Ft=function(){var e=Object(i.g)(),t=Object(u.c)((function(e){return e.auth.userinfo})),a=Object(u.c)((function(e){return e.cart.cartLoading})),r=Object(u.c)((function(e){return e.cart.cartError})),l=Object(u.c)((function(e){return e.cart.cart})),m=Object(n.useState)(e.state?[e.state.id]:t.cart),d=Object(M.a)(m,2),E=d[0],p=d[1],f=Object(n.useState)(e.state?e.state.price:0),h=Object(M.a)(f,2),_=h[0],b=h[1],v=Object(n.useState)(e.state?e.state.price:0),g=Object(M.a)(v,2),O=g[0],j=g[1],C=Object(n.useState)(!1),y=Object(M.a)(C,2),S=y[0],T=y[1],w=Object(u.b)();return Object(n.useEffect)((function(){var e;t.cart.length>0&&w((e=t.cart,function(t){t(Ze());for(var a="http://localhost:3001/products?",n=0;n<e.length;n++)a+="&id=".concat(e[n]);fetch(a).then((function(e){return e.json()})).then((function(e){t(et(e))})).catch((function(e){t(tt(e.toString()))}))}))}),[w,t.cart]),Object(n.useEffect)((function(){for(var t=0,a=0;a<l.length;a++)t+=l[a].price;j(t),e.state||b(t)}),[l,e.state]),r?c.a.createElement("div",{class:"error"},r):a?c.a.createElement(s.a,{className:"loadingbar"}):c.a.createElement("div",{className:"Cart"},S?c.a.createElement(It,{close:function(){T(!1)},total:_,products:E,userId:t.id,cart:t.cart}):"",c.a.createElement(x,{title:"My Cart"}),l.length>0?c.a.createElement("main",{className:"container"},c.a.createElement("div",{className:"cart"},c.a.createElement("div",{className:"cart__list"},l.map((function(e,a){return c.a.createElement("div",{className:"cart__list-item",key:a},c.a.createElement("div",{className:"cart__list-item-info"},c.a.createElement("div",{className:"cart__list-item-info-checkbox"},c.a.createElement(ot.a,{color:"default",checked:!!E.includes(e.id.toString()),onChange:function(){!function(e){var t=e.id.toString();E.includes(t)?(p(E.filter((function(e){return e!==t}))),b(_-e.price)):(p(E.concat(t)),b(_+e.price))}(e)}})),c.a.createElement("div",{className:"cart__list-item-info-banner",style:{background:"url(".concat(e.banner,") no-repeat center")}}),c.a.createElement(o.b,{to:"/products/".concat(e.id),className:"cart__list-item-info-content"},c.a.createElement("p",null,e.name),c.a.createElement("p",null,e.price?"$".concat(e.price):"Free"))),c.a.createElement("div",{className:"cart__list-item-remove",onClick:function(){return function(e){var a=t.cart.filter((function(t){return t!==e.id.toString()}));p(a),b(_-e.price),j(O-e.price),w(We(t.id,a))}(e)}},c.a.createElement(Nt.a,null)))}))),c.a.createElement("div",{className:"cart__btn"},c.a.createElement("div",{className:"cart__btn-checkbox"},c.a.createElement(ot.a,{checked:E.length===t.cart.length,color:"default",onChange:function(){E.length===t.cart.length?(p([]),b(0)):(p(t.cart),b(O))}}),c.a.createElement("label",null,"Choose all games")),c.a.createElement("div",{className:"cart__btn-list"},c.a.createElement("button",{onClick:function(){window.location.href="/"}},"Continue Shopping"),c.a.createElement("button",{onClick:function(){return p([]),void w(We(t.id,[]))}},"Clear My Cart"),c.a.createElement("button",{onClick:function(){E.length<t.cart.length&&w(We(t.id,E))}},"Delete Unactive Games")))),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"info__content"},c.a.createElement("div",{className:"info__content-avatar",style:{background:"url(".concat(t.avatar,") no-repeat center")}}),c.a.createElement("div",{className:"info__content-name"},t.firstname+" "+t.lastname),c.a.createElement("div",{className:"info__content-other"},c.a.createElement(bt.a,null),c.a.createElement("span",null,t.email)),c.a.createElement("div",{className:"info__content-other"},c.a.createElement(gt.a,null),c.a.createElement("span",null,t.phone)),c.a.createElement("div",{className:"info__content-order"},c.a.createElement("div",{className:"info__content-order-total"},c.a.createElement("p",null,"Items"),c.a.createElement("p",null,E.length)),c.a.createElement("div",{className:"info__content-order-price"},c.a.createElement("p",null,"Total"),c.a.createElement("p",null,"$",Math.abs(_.toFixed(2)))))),c.a.createElement("div",{className:E.length>0?"info__btn info__btn--active":"info__btn"},c.a.createElement(o.b,{to:"#",onClick:function(){E.length>0&&T(!0)}},"Checkout")))):c.a.createElement("main",{className:"container"},c.a.createElement("div",{className:"nocart"},c.a.createElement("div",{className:"nocart__icon"},c.a.createElement(Ct.a,null)),c.a.createElement("p",{className:"nocart__text"},"Your cart is empty"),c.a.createElement("div",{className:"nocart__btn"},c.a.createElement(o.b,{to:"/"},"Go back to homepage")))),c.a.createElement(N,null))},Ut=a(83),Lt=a.n(Ut);var Dt=function(){return c.a.createElement("div",{className:"Thanks"},c.a.createElement("div",{className:"Thanks__icon"},c.a.createElement(Lt.a,null)),c.a.createElement("p",{className:"Thanks__text"},"Checkout Successful!"),c.a.createElement("p",{className:"Thanks__small"},"Your receipt will be sent to your email"),c.a.createElement("div",{className:"Thanks__btn"},c.a.createElement(o.b,{to:"/"},"Go back to homepage")))},Ht=a(84),Gt=a.n(Ht),Bt=a(85),xt=a.n(Bt);var Mt=function(e){var t=Object(n.useState)([]),a=Object(M.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)(!1),u=Object(M.a)(i,2),m=u[0],d=u[1],E=Object(n.useState)(null),p=Object(M.a)(E,2),f=p[0],h=p[1];return Object(n.useEffect)((function(){d(!0);for(var t="http://localhost:3001/products?",a=0;a<e.products.length;a++)t+="&id=".concat(e.products[a]);fetch(t).then((function(e){return e.json()})).then((function(e){d(!1),l(e)})).catch((function(e){d(!1),h(e.toString())}))}),[]),c.a.createElement("div",{className:"OrderItem"},c.a.createElement("p",{className:"time"},"".concat(e.time," - ").concat(e.date)),c.a.createElement("div",{className:"products"},f?c.a.createElement("div",{className:"error"},f):m?c.a.createElement(s.a,{className:"loadingbar"}):r?r.map((function(e){return c.a.createElement("div",{className:"products__item",key:e.id},c.a.createElement(o.b,{to:"/products/".concat(e.id),className:"products__item-left"},c.a.createElement("div",{className:"products__item-left-banner",style:{background:"url(".concat(e.banner,") no-repeat center")}}),c.a.createElement("div",{className:"products__item-left-name"},c.a.createElement("p",null,e.name),c.a.createElement("p",null,e.publisher))),c.a.createElement("div",{className:"products__item-right"},c.a.createElement(o.b,{to:"/products/".concat(e.id),className:"products__item-right-info"},c.a.createElement(Gt.a,null)),c.a.createElement(o.b,{to:"#",className:"products__item-right-download"},c.a.createElement(xt.a,null))))})):""))};var Vt=function(){var e=Object(u.c)((function(e){return e.order.orders})),t=Object(u.c)((function(e){return e.order.loading})),a=Object(u.c)((function(e){return e.order.error})),r=Object(u.c)((function(e){return e.auth.userinfo})),l=Object(u.b)();return Object(n.useEffect)((function(){var e;l((e=r.id,function(t){t(kt()),fetch("http://localhost:3001/orders?userId=".concat(e,"&_sort=id&_order=desc")).then((function(e){return e.json()})).then((function(e){t(At(e))})).catch((function(e){t(Rt(e.toString()))}))}))}),[l,r.id]),c.a.createElement("div",{className:"Order"},c.a.createElement(x,{title:"My Orders"}),c.a.createElement("main",{className:"container"},a?c.a.createElement("div",{className:"error"},a):t?c.a.createElement(s.a,{className:"loadingbar"}):e.length>0?e.map((function(e){return c.a.createElement(Mt,{key:e.id,products:e.products,time:e.time,date:e.date})})):c.a.createElement("div",{className:"noorder"},c.a.createElement("div",{className:"noorder__icon"},c.a.createElement(Ce.a,null)),c.a.createElement("p",{className:"noorder__text"},"You haven't bought any games yet"),c.a.createElement("div",{className:"noorder__btn"},c.a.createElement(o.b,{to:"/"},"Go shopping now!")))),c.a.createElement(N,null))},zt=a(86),Jt=a.n(zt);var qt=function(){var e=Object(n.useState)(!1),t=Object(M.a)(e,2),a=t[0],r=t[1],l=Object(u.c)((function(e){return e.auth.userinfo})),o=Object(n.useState)(Object(Pe.a)({},l)),i=Object(M.a)(o,2),s=i[0],m=i[1],d=Object(n.useState)(""),E=Object(M.a)(d,2),p=E[0],f=E[1],h=Object(n.useState)(!1),_=Object(M.a)(h,2),b=_[0],v=_[1],g=Object(n.useState)(!1),O=Object(M.a)(g,2),j=O[0],C=O[1],y=Object(u.b)(),S=function(e){m(Object(Pe.a)(Object(Pe.a)({},s),{},Object(we.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){JSON.stringify(s)!==JSON.stringify(l)&&!p&&s.firstname&&s.lastname&&s.phone&&s.email?v(!0):v(!1)}),[l,s,p]),c.a.createElement("div",{className:"Profile"},c.a.createElement(x,{title:"My Account"}),c.a.createElement("main",{className:"container"},c.a.createElement("div",{className:"left"},c.a.createElement("div",{className:"left__avatar",style:{background:"url(".concat(l.avatar,") no-repeat center")}},a?c.a.createElement("div",{className:"left__avatar-loading"},c.a.createElement(Xe.a,{className:"loadingCircle",size:30})):"",c.a.createElement("input",{id:"avatarUpload",type:"file",hidden:!0}),c.a.createElement("button",{className:"left__avatar-change",onClick:function(){return function(){if(!a){var e=document.getElementById("avatarUpload");e.click(),e.onchange=function(e){var t=e.target.files[0],a=new FormData;a.append("file",t),r(!0),Promise.all([fetch("http://localhost:3001/avatar",{method:"POST",body:a}),fetch("http://localhost:3001/users/".concat(l.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({avatar:"http://localhost:3001/avatar/".concat(t.name)})})]).then((function(){y(k(Object(Pe.a)(Object(Pe.a)({},l),{},{avatar:"http://localhost:3001/avatar/".concat(t.name)}))),r(!1)})).catch((function(e){r(!1)}))}}}()}},c.a.createElement(Jt.a,null)," Change Avatar"))),c.a.createElement("div",{className:"right"},c.a.createElement("div",{className:"info"},c.a.createElement("p",{className:"info__title title"},"Personal Info"),c.a.createElement("div",{className:"info__input info__input--span"},c.a.createElement("div",{className:"info__input-firstname"},c.a.createElement("p",null,"First Name"),c.a.createElement(dt,{type:"text",name:"firstname",alert:s.firstname?"":"INVALID",value:s.firstname,handleChange:S})),c.a.createElement("div",{className:"info__input-lastname"},c.a.createElement("p",null,"Last Name"),c.a.createElement(dt,{type:"text",name:"lastname",alert:s.lastname?"":"INVALID",value:s.lastname,handleChange:S}))),c.a.createElement("div",{className:"info__input info__input--span"},c.a.createElement("div",{className:"info__input-phone"},c.a.createElement("p",null,"Phone Number"),c.a.createElement(dt,{type:"number",name:"phone",alert:s.phone?"":"INVALID",value:s.phone,handleChange:S})),c.a.createElement("div",{className:"info__input-email"},c.a.createElement("p",null,"Email"),c.a.createElement(dt,{type:"email",name:"email",alert:p,handleAlert:function(e){var t=e.target.value;!pt(t)&&t?f("INVALID EMAIL"):f("")},value:s.email,handleChange:S}))),c.a.createElement("div",{className:"info__input info__input--span"},c.a.createElement("div",{className:"info__input-country"},c.a.createElement("p",null,"Country"),c.a.createElement(dt,{type:"text",name:"country",value:s.country,handleChange:S})),c.a.createElement("div",{className:"info__input-city"},c.a.createElement("p",null,"City"),c.a.createElement(dt,{type:"text",name:"city",value:s.city,handleChange:S}))),c.a.createElement("div",{className:"info__input"},c.a.createElement("p",null,"Address Line"),c.a.createElement(dt,{type:"address",name:"address",value:s.address,handleChange:S})),c.a.createElement("div",{className:"info__btn"},c.a.createElement("button",{className:"info__btn-discard",onClick:function(){m(Object(Pe.a)({},l))}},"Discard Change"),c.a.createElement("button",{className:b?"info__btn-save info__btn-save--active":"info__btn-save",onClick:function(){b&&!j&&(C(!0),fetch("http://localhost:3001/users/".concat(l.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:s.firstname,lastname:s.lastname,phone:s.phone,email:s.email,country:s.country,city:s.city,address:s.address})}).then((function(){C(!1),y(k(s)),alert("Saved your personal information")})).catch((function(e){C(!1),alert(e.toString())})))}},j?c.a.createElement(Xe.a,{className:"loadingCircle",size:15}):"Save"))),l.viewedProducts.length>0?c.a.createElement("div",{className:"recently"},c.a.createElement("p",{className:"recently__title title"},"Recently Viewed"),c.a.createElement("div",{className:"recently__list"},c.a.createElement(rt,null))):"")),c.a.createElement(N,null))},Kt=a(87);var $t=function(){return c.a.createElement("div",{className:"Dashboard"},c.a.createElement("div",{style:{display:"flex",maxWidth:900}},c.a.createElement(Kt.a,{width:400,height:300,chartType:"ColumnChart",loader:c.a.createElement(s.a,{className:"loadingbar"}),data:[["City","2010 Population","2000 Population"],["New York City, NY",8175e3,8008e3],["Los Angeles, CA",3792e3,3694e3],["Chicago, IL",2695e3,2896e3],["Houston, TX",2099e3,1953e3],["Philadelphia, PA",1526e3,1517e3]],options:{title:"Population of Largest U.S. Cities",chartArea:{width:"30%"},hAxis:{title:"Total Population",minValue:0},vAxis:{title:"City"}},legendToggle:!0})))},Yt=function(){return{type:"FETCH_CATEGORIES_BEGIN"}},Qt=function(e){return{type:"FETCH_CATEGORIES_SUCCESS",payload:e}},Xt=function(e){return{type:"FETCH_CATEGORIES_FAILURE",payload:e}},Wt=function(){return{type:"FETCH_USERS_BEGIN"}},Zt=function(e){return{type:"FETCH_USERS_SUCCESS",payload:e}},ea=function(e){return{type:"FETCH_USERS_FAILURE",payload:e}};var ta=function(e){return c.a.createElement("div",{className:"modalWrapper"},c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal__head"},c.a.createElement("div",{className:"modal__head-left"},e.title),c.a.createElement(St.a,{className:"modal__head-right",onClick:function(){return e.close()}})),c.a.createElement("div",{className:"modal__body"},e.children),c.a.createElement("div",{className:"modal__foot"},c.a.createElement("button",{className:"modal__foot-cancel",onClick:function(){return e.close()}},"Cancel"),c.a.createElement("button",{className:e.clickable?"modal__foot-submit modal__foot-submit--active":"modal__foot-submit",onClick:function(){return e.submit()}},"Submit"))))},aa=a(44),na=a.n(aa);var ca=function(){var e=Object(u.c)((function(e){return e.admin.categoriesLoading})),t=Object(u.c)((function(e){return e.admin.categoriesError})),a=Object(u.c)((function(e){return e.admin.categories})),r=Object(n.useState)(""),l=Object(M.a)(r,2),o=l[0],i=l[1],m=Object(u.b)(),d=Object(n.useState)(""),E=Object(M.a)(d,2),p=E[0],f=E[1];return Object(n.useEffect)((function(){m((function(e){e(Yt()),fetch("http://localhost:3001/category?_sort=id&_order=desc").then((function(e){return e.json()})).then((function(t){e(Qt(t))})).catch((function(t){e(Xt(t.toString()))}))}))}),[m]),c.a.createElement("div",{className:"CategoriesManage"},p?c.a.createElement(ta,{title:"add"===p?"Add A Product":"Edit ".concat(p[0]),close:function(){f(""),i("")},submit:function(){fetch("add"===p?"http://localhost:3001/category":"http://localhost:3001/category/".concat(p[1]),{method:"add"===p?"POST":"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o})}).then((function(){window.location.reload()}))},clickable:!0},c.a.createElement(dt,{type:"text",value:o,name:"cate",placeholder:"Category",handleChange:function(e){i(e.target.value)}})):"",c.a.createElement("div",{className:"head"},c.a.createElement("button",{className:"head__btn",onClick:function(){return f("add")}},"Add Category")),t?c.a.createElement("div",{className:"error"},t):e?c.a.createElement(s.a,{className:"loadingbar"}):a.length>0?c.a.createElement("div",{className:"content"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Id"),c.a.createElement("th",null,"Name"),c.a.createElement("th",{colSpan:"2"})),a.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.id),c.a.createElement("td",null,e.name),c.a.createElement("td",null,c.a.createElement("div",{className:"content__edit",onClick:function(){i(e.name),f([e.name,e.id])}},c.a.createElement(na.a,null))),c.a.createElement("td",null,c.a.createElement("div",{className:"content__delete",onClick:function(){return t=e.id,void fetch("http://localhost:3001/category/".concat(t),{method:"DELETE"}).then((function(){window.location.reload()}));var t}},c.a.createElement(Nt.a,null))))}))))):"")};var ra=function(){var e={name:"",banner:"",cover:"",des:"",price:"",publisher:"",rating:"",rateCount:0,platform:"",sold:0,category:"",features:"",videoId:"",spec:[{id:1,processor:"AMD or Intel, Intel Core i5 2400s @ 2.5 GHz or AMD FX 4100 @ 3.6",memory:8,storage:10,graphics:"nVidia GeForce GTX 680 or AMD Radeon HD7970 or better (2048MB VRAM or more, with Shader Model 5.0)"},{id:2,processor:"AMD or Intel, Intel Core i5 7400s @ 3.5 GHz or AMD Ryzen 5 @ 3.4 GHz",memory:16,storage:10,graphics:"nVidia GeForce GTX 1060 or AMD Radeon RX 580 or better (4096MB VRAM or more, with Shader Model 5.0)"}]},t=Object(u.c)((function(e){return e.browseProducts.loading})),a=Object(u.c)((function(e){return e.browseProducts.error})),r=Object(u.c)((function(e){return e.browseProducts.products})),l=Object(u.c)((function(e){return e.browseProducts.numOfPages})),o=Object(u.c)((function(e){return e.sidebar.categories})),i=Object(u.c)((function(e){return e.sidebar.features})),m=Object(u.c)((function(e){return e.sidebar.platforms})),d=Object(n.useState)(""),E=Object(M.a)(d,2),p=E[0],f=E[1],h=Object(n.useState)("id desc"),_=Object(M.a)(h,2),b=_[0],v=_[1],g=Object(n.useState)(1),O=Object(M.a)(g,2),N=O[0],j=O[1],C=Object(n.useState)(""),y=Object(M.a)(C,2),S=y[0],T=y[1],w=Object(n.useState)(Object(Pe.a)({},e)),P=Object(M.a)(w,2),k=P[0],A=P[1],R=Object(n.useState)(""),I=Object(M.a)(R,2),F=I[0],U=I[1],L=Object(n.useState)(""),D=Object(M.a)(L,2),H=D[0],G=D[1],B=Object(u.b)();Object(n.useEffect)((function(){B(ce("","","",N,p,b))}),[B,N,p,b]),Object(n.useEffect)((function(){B(ue())}),[B]);var x=function(e){A(Object(Pe.a)(Object(Pe.a)({},k),{},Object(we.a)({},e.target.name,e.target.value)))},V=function(e,t){var a=t.target.value;k[e]?k[e].split(", ").includes(a)?A(Object(Pe.a)(Object(Pe.a)({},k),{},Object(we.a)({},e,k[e].split(", ").filter((function(e){return e!==a})).join(", ")))):A(Object(Pe.a)(Object(Pe.a)({},k),{},Object(we.a)({},e,k[e].split(", ").concat(a).join(", ")))):A(Object(Pe.a)(Object(Pe.a)({},k),{},Object(we.a)({},e,a)))};return c.a.createElement("div",{className:"ProductsManage"},S?c.a.createElement(ta,{title:"add"===S?"Add A Product":"Edit ".concat(S[0]),close:function(){T(""),A(Object(Pe.a)({},e))},submit:function(){var e=new FormData,t=new FormData;e.append("file",F),t.append("file",H),Promise.all([fetch("add"===S?"http://localhost:3001/products":"http://localhost:3001/products/".concat(S[1]),{method:"add"===S?"POST":"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(Pe.a)(Object(Pe.a)({},k),{},{price:parseInt(k.price)}))}),F?fetch("http://localhost:3001/cover",{method:"POST",body:e}):"",H?fetch("http://localhost:3001/banner",{method:"POST",body:t}):""]).then((function(){window.location.reload()}))},clickable:!0},c.a.createElement(dt,{type:"text",value:k.name,name:"name",placeholder:"Name",handleChange:x}),c.a.createElement("div",{className:"modal__image"},c.a.createElement("div",{className:"modal__image-item"},c.a.createElement("p",null,"Cover"),c.a.createElement("input",{type:"file",name:"cover",onChange:function(e){U(e.target.files[0]),A(Object(Pe.a)(Object(Pe.a)({},k),{},{cover:"http://localhost:3001/cover/".concat(e.target.files[0].name)}))}})),c.a.createElement("div",{className:"modal__image-item"},c.a.createElement("p",null,"Banner"),c.a.createElement("input",{type:"file",name:"banner",onChange:function(e){G(e.target.files[0]),A(Object(Pe.a)(Object(Pe.a)({},k),{},{banner:"http://localhost:3001/banner/".concat(e.target.files[0].name)}))}}))),c.a.createElement("textarea",{value:k.des,name:"des",onChange:function(e){return x(e)},rows:"3",placeholder:"Description"}),c.a.createElement("div",{className:"modal__detail"},c.a.createElement(dt,{type:"number",value:k.price,name:"price",placeholder:"Price",handleChange:x}),c.a.createElement(dt,{type:"text",value:k.publisher,name:"publisher",placeholder:"Publisher",handleChange:x}),c.a.createElement(dt,{type:"text",value:k.videoId,name:"videoId",placeholder:"Video Id",handleChange:x})),c.a.createElement("div",{className:"modal__check"},c.a.createElement("div",{className:"modal__check-item"},c.a.createElement("p",null,"Categories"),o.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("input",{type:"checkbox",value:e.name,onChange:function(e){return V("category",e)},checked:k.category.split(", ").includes(e.name)}),c.a.createElement("label",null,e.name))}))),c.a.createElement("div",{className:"modal__check-item"},c.a.createElement("p",null,"Features"),i.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("input",{type:"checkbox",value:e.name,onChange:function(e){return V("features",e)},checked:k.features.split(", ").includes(e.name)}),c.a.createElement("label",null,e.name))}))),c.a.createElement("div",{className:"modal__check-item"},c.a.createElement("p",null,"Platforms"),m.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("input",{type:"checkbox",value:e.name,onChange:function(e){return V("platform",e)},checked:k.platform.split(", ").includes(e.name)}),c.a.createElement("label",null,e.name))}))))):"",c.a.createElement("div",{className:"head"},c.a.createElement("button",{className:"head__btn",onClick:function(){return T("add")}},"Add Product"),c.a.createElement("div",{className:"head__option"},c.a.createElement("div",{className:"head__option-search"},c.a.createElement("input",{type:"text",placeholder:"Search",value:p,onChange:function(e){return f(e.target.value)}})),c.a.createElement("div",{className:"head__option-sort"},c.a.createElement("label",null,"Sort by:"),c.a.createElement("select",{value:b,onChange:function(e){v(e.target.value),j(1)}},c.a.createElement("option",{value:"id desc"},"Newest"),c.a.createElement("option",{value:"id asc"},"Oldest"),c.a.createElement("option",{value:"name asc"},"A - Z"),c.a.createElement("option",{value:"name desc"},"Z - A"),c.a.createElement("option",{value:"price asc"},"Price Asc"),c.a.createElement("option",{value:"price desc"},"Price Desc"),c.a.createElement("option",{value:"rating desc"},"Rating"))))),a?c.a.createElement("div",{className:"error"},a):t?c.a.createElement(s.a,{className:"loadingbar"}):0===r.length?"No results found":c.a.createElement("div",null,c.a.createElement("div",{className:"content"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Id"),c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Banner"),c.a.createElement("th",null,"Cover"),c.a.createElement("th",null,"Price"),c.a.createElement("th",null,"Publisher"),c.a.createElement("th",null,"Platform"),c.a.createElement("th",null,"Categories"),c.a.createElement("th",null,"Features"),c.a.createElement("th",{colSpan:"2"})),r.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.id),c.a.createElement("td",null,e.name),c.a.createElement("td",null,c.a.createElement("img",{src:e.cover,width:"50",alt:"cover"})),c.a.createElement("td",null,c.a.createElement("img",{src:e.banner,width:"100",alt:"banner"})),c.a.createElement("td",null,e.price),c.a.createElement("td",null,e.publisher),c.a.createElement("td",null,e.platform),c.a.createElement("td",null,e.category),c.a.createElement("td",null,e.features),c.a.createElement("td",null,c.a.createElement("div",{className:"content__edit",onClick:function(){A(e),T([e.name,e.id])}},c.a.createElement(na.a,null))),c.a.createElement("td",null,c.a.createElement("div",{className:"content__delete",onClick:function(){return t=e.id,void fetch("http://localhost:3001/products/".concat(t),{method:"DELETE"}).then((function(){window.location.reload()}));var t}},c.a.createElement(Nt.a,null))))}))))),c.a.createElement("div",{className:"foot"},c.a.createElement(ye.a,{className:"pagination",count:parseInt(l),color:"primary",defaultPage:N,shape:"rounded",onChange:function(e,t){return function(e){j(e),window.scrollTo({top:0,behavior:"smooth"})}(t)}}))))},la=a(89),oa=a.n(la);var ia=function(){var e=Object(u.c)((function(e){return e.admin.usersLoading})),t=Object(u.c)((function(e){return e.admin.usersError})),a=Object(u.c)((function(e){return e.admin.users})),r=Object(u.b)();return Object(n.useEffect)((function(){r((function(e){e(Wt()),fetch("http://localhost:3001/users?_sort=name&_order=asc").then((function(e){return e.json()})).then((function(t){e(Zt(t))})).catch((function(t){e(ea(t.toString()))}))}))}),[r]),c.a.createElement("div",{className:"UsersManage"},t?c.a.createElement("div",{className:"error"},t):e?c.a.createElement(s.a,{className:"loadingbar"}):a.length>0?c.a.createElement("div",{className:"content"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Id"),c.a.createElement("th",null,"Email"),c.a.createElement("th",null,"Firstname"),c.a.createElement("th",null,"Lastname"),c.a.createElement("th",null,"Phone"),c.a.createElement("th",null,"Avatar"),c.a.createElement("th",null,"Admin"),c.a.createElement("th",null)),a.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.id),c.a.createElement("td",null,e.email),c.a.createElement("td",null,e.firstname),c.a.createElement("td",null,e.lastname),c.a.createElement("td",null,e.phone),c.a.createElement("td",null,c.a.createElement("img",{src:e.avatar,width:"50",alt:"avatar"})),c.a.createElement("td",null,e.isAdmin?"Yes":"No"),c.a.createElement("td",null,c.a.createElement("div",{className:e.isAdmin?"content__delete":"content__edit",onClick:function(){return function(e,t){fetch("http://localhost:3001/users/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isAdmin:!t})}).then((function(){return window.location.reload()}))}(e.id,e.isAdmin)}},c.a.createElement(oa.a,null))))}))))):"")},sa=a(90),ua=a.n(sa),ma=a(91),da=a.n(ma),Ea=a(92),pa=a.n(Ea);var fa=function(){var e=Object(n.useState)(localStorage.getItem("adminsite")||"categories"),t=Object(M.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"Admin"},c.a.createElement(x,null,c.a.createElement("div",{className:"tabs"},c.a.createElement("div",{className:"categories"===a?"tabs__item tabs__item--active":"tabs__item",onClick:function(){r("categories"),localStorage.setItem("adminsite","categories")}},c.a.createElement(ua.a,null),c.a.createElement("p",null,"Categories")),c.a.createElement("div",{className:"products"===a?"tabs__item tabs__item--active":"tabs__item",onClick:function(){r("products"),localStorage.setItem("adminsite","products")}},c.a.createElement(da.a,null),c.a.createElement("p",null,"Products")),c.a.createElement("div",{className:"users"===a?"tabs__item tabs__item--active":"tabs__item",onClick:function(){r("users"),localStorage.setItem("adminsite","users")}},c.a.createElement(pa.a,null),c.a.createElement("p",null,"Users")))),c.a.createElement("main",{className:"container"},"dashboard"===a?c.a.createElement($t,null):"categories"===a?c.a.createElement(ca,null):"products"===a?c.a.createElement(ra,null):c.a.createElement(ia,null)),c.a.createElement(N,null))};var ha=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.userinfo}));return Object(n.useEffect)((function(){e((function(e){var t=localStorage.getItem("token");if(t){var a=S(t).sub;fetch("http://localhost:3001/users/".concat(a)).then((function(e){return e.json()})).then((function(t){e(k(t))})).catch((function(e){console.log(e.toString())}))}}))}),[e]),c.a.createElement(o.a,null,c.a.createElement(Te,null),c.a.createElement("div",{className:"App"},c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/login"},t?c.a.createElement(ne,null):c.a.createElement(Et,null)),c.a.createElement(i.a,{exact:!0,path:"/signup"},t?c.a.createElement(ne,null):c.a.createElement(ht,null)),c.a.createElement(i.a,{exact:!0,path:"/profile"},t?c.a.createElement(qt,null):c.a.createElement(Et,null)),c.a.createElement(i.a,{exact:!0,path:"/cart"},t?c.a.createElement(Ft,null):c.a.createElement(Et,null)),c.a.createElement(i.a,{exact:!0,path:"/order"},t?c.a.createElement(Vt,null):c.a.createElement(Et,null)),c.a.createElement(i.a,{exact:!0,path:"/thanks"},c.a.createElement(Dt,null)),c.a.createElement(i.a,{exact:!0,path:"/admin"},t.isAdmin?c.a.createElement(fa,null):""),c.a.createElement(i.a,{exact:!0,path:"/browse"},c.a.createElement(Se,null)),c.a.createElement(i.a,{exact:!0,path:"/products/:productId"},c.a.createElement(lt,null)),c.a.createElement(i.a,{exact:!0,path:"/"},c.a.createElement(ne,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _a=a(28),ba=a(93),va={loading:!1,error:null,products:[],numOfPages:"",page:1,sort:"id desc"},ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!0,error:null});case"FETCH_PRODUCTS_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!1,products:t.payload});case"FETCH_PRODUCTS_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!1,error:t.payload,products:[]});case"SET_SORT":return Object(Pe.a)(Object(Pe.a)({},e),{},{sort:t.payload});case"SET_NUM_OF_PAGES":return Object(Pe.a)(Object(Pe.a)({},e),{},{numOfPages:t.payload});case"SET_PAGE":return Object(Pe.a)(Object(Pe.a)({},e),{},{page:t.payload});default:return Object(Pe.a)({},e)}},Oa={loading:!1,error:null,newProducts:[],freeProduct:"",topSellerProducts:[],hotProduct:"",topRatedProducts:[]},Na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DISCOVER_PRODUCTS_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!0,error:null});case"FETCH_DISCOVER_PRODUCTS_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!1,newProducts:t.newProducts,freeProduct:t.freeProduct,topSellerProducts:t.topSellerProducts,hotProduct:t.hotProduct,topRatedProducts:t.topRatedProducts});case"FETCH_DISCOVER_PRODUCTS_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!1,error:t.error,newProducts:[],freeProduct:"",topSellerProducts:[],hotProduct:"",topRatedProducts:[]});default:return Object(Pe.a)({},e)}},ja={search:"",quickSearchLoading:!1,quickSearchError:null,quickSearchResult:[]},Ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH":return Object(Pe.a)(Object(Pe.a)({},e),{},{search:t.payload});case"FETCH_QUICK_SEARCH_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{quickSearchLoading:!0,quickSearchError:null});case"FETCH_QUICK_SEARCH_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{quickSearchLoading:!1,quickSearchResult:t.payload});case"FETCH_QUICK_SEARCH_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{quickSearchLoading:!1,quickSearchError:t.payload,quickSearchResult:[]});default:return Object(Pe.a)({},e)}},ya={loading:!1,relatedProductsLoading:!1,error:null,relatedProductsError:null,product:"",relatedProducts:[]},Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCT_DETAIL_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!0,error:null});case"FETCH_PRODUCT_DETAIL_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!1,product:t.payload});case"FETCH_PRODUCT_DETAIL_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!1,error:t.payload,product:""});case"FETCH_RELATED_PRODUCTS_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{relatedProductsLoading:!0,relatedProductsError:null});case"FETCH_RELATED_PRODUCTS_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{relatedProductsLoading:!1,relatedProducts:t.payload});case"FETCH_RELATED_PRODUCTS_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{relatedProductsLoading:!1,relatedProductsError:t.payload,relatedProducts:[]});default:return Object(Pe.a)({},e)}},Ta={loading:!1,error:null,categories:[],features:[],platforms:[],cate:[],feat:[],plat:[]},wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SIDEBAR_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!0,error:null});case"FETCH_SIDEBAR_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!1,categories:t.categories,features:t.features,platforms:t.platforms});case"FETCH_SIDEBAR_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!1,error:t.error,categories:[],features:[],platforms:[]});case"SET_CATE":return Object(Pe.a)(Object(Pe.a)({},e),{},{cate:t.payload});case"SET_FEAT":return Object(Pe.a)(Object(Pe.a)({},e),{},{feat:t.payload});case"SET_PLAT":return Object(Pe.a)(Object(Pe.a)({},e),{},{plat:t.payload});case"RESET_FILTER":return Object(Pe.a)(Object(Pe.a)({},e),{},{cate:[],feat:[],plat:[]});default:return Object(Pe.a)({},e)}},Pa={loading:!1,error:null,token:"",userinfo:""},ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!0,error:null});case"LOGIN_USER_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{token:t.payload,loading:!1});case"LOGIN_USER_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!1,error:t.payload,token:""});case"GET_USER_INFO":return Object(Pe.a)(Object(Pe.a)({},e),{},{userinfo:t.payload});case"LOG_OUT":return Object(Pe.a)(Object(Pe.a)({},e),{},{token:"",userinfo:""});default:return Object(Pe.a)({},e)}},Aa={cartLoading:!1,cartError:null,changeLoading:!1,changeError:null,cart:[]},Ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CART_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{cartLoading:!0,cartError:null});case"FETCH_CART_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{cartLoading:!1,cart:t.payload});case"FETCH_CART_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{cartLoading:!1,cart:[],cartError:t.payload});case"CHANGE_CART_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{changeLoading:!0,changeError:null});case"CHANGE_CART_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{changeLoading:!1,cart:t.payload});case"CHANGE_CART_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{changeLoading:!1,cart:[],changeError:t.payload});default:return Object(Pe.a)({},e)}},Ia={checkoutLoading:!1,checkoutError:null,orders:"",loading:!1,error:null},Fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECKOUT_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{checkoutLoading:!0,checkoutError:null});case"CHECKOUT_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{checkoutLoading:!1});case"CHECKOUT_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{checkoutLoading:!1,checkoutError:t.payload});case"FETCH_ORDERS_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!0,error:null});case"FETCH_ORDERS_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!1,orders:t.payload});case"FETCH_ORDERS_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{loading:!1,orders:"",error:t.payload});default:return Object(Pe.a)({},e)}},Ua={categoriesLoading:!1,categoriesError:null,usersLoading:!1,usersError:null,categories:"",users:""},La=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CATEGORIES_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{categoriesLoading:!0,categoriesError:null});case"FETCH_CATEGORIES_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{categoriesLoading:!1,categories:t.payload});case"FETCH_CATEGORIES_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{categoriesLoading:!1,categoriesError:t.payload,categories:""});case"FETCH_USERS_BEGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{usersLoading:!0,usersError:null});case"FETCH_USERS_SUCCESS":return Object(Pe.a)(Object(Pe.a)({},e),{},{usersLoading:!1,users:t.payload});case"FETCH_USERS_FAILURE":return Object(Pe.a)(Object(Pe.a)({},e),{},{usersLoading:!1,usersError:t.payload,users:""});default:return Object(Pe.a)({},e)}},Da=Object(_a.c)({discoverProducts:Na,sidebar:wa,browseProducts:ga,navbar:Ca,productDetail:Sa,auth:ka,cart:Ra,order:Fa,admin:La}),Ha=Object(_a.d)(Da,Object(_a.a)(ba.a));l.a.render(c.a.createElement(u.a,{store:Ha},c.a.createElement(c.a.StrictMode,null,c.a.createElement(ha,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.813a1c63.chunk.js.map